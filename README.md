> REST API для приложения Федерации Спортивного Туризма России https://pereval.online/

# В чём заключалась задача
На [сайте](https://pereval.online/) ФСТР ведёт базу горных перевалов, которая пополняется туристами. После преодоления очередного перевала, турист заполняет отчёт в формате PDF и отправляет его на электронную почту.

ФСТР заказала разработать мобильное приложение, которое упростило бы туристам задачу по отправке данных.

Необходимо разработать REST API для общения мобильного приложения и бэкенда.

Сейчас ФСТР использует вот [такую](https://github.com/alexander-kurchin/fstr-pereval-rest-api/blob/main/example_pereval_2022-02-22-2021.sql) структуру базы данных. Прежде всего её необходимо было доработать: добавить поле _status_ и раскидать _raw_json_ по полям и таблицам.

# Что было реализовано
Создана база данных в _PostgreSQL_.

Для бэкенда был выбран фреймворк _Django_.

В рамках _Django ORM_ созданы модели сущностей базы данных.

Создан класс, реализующий _REST API_, на базе решений _Django REST Framework_. Доступные методы перечислены в [следующем](#как-работать-с-api) разделе.

Кастомизировано поведение метода **PATCH**.

С помощью библиотеки _django-filter_ реализована фильтрация перевалов по добавившему их пользователю (с email в качестве идентификатора).

# Как работать с API

Базовый путь REST API: _/api/_.

| Эндпоинты | Маршруты | Описание |
| --- | --- | --- |
| **GET** | submitData/ | Получение списка перевалов |
| **POST** | submitData/ | Добавление перевала |
| **GET** | submitData/{id}/ | Получение данных о перевале |
| **PATCH** | submitData/{id}/ | Редактирование перевала |
| **GET** | submitData/?user__email={email} | Получение списка перевалов конкретного пользователя |
